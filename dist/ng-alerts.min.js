"use strict";var app=angular.module("ngAlerts",["ui.bootstrap"]).run(["$compile","$rootScope",function(a,b){angular.element(document).find("body").append("<ng-alerts-queue></ng-alerts-queue>")}]);angular.module("ngAlerts").directive("ngAlertsCount",["ngAlertsMngr","ngAlertsEvent",function(a,b){return{templateUrl:"templates/ng-alerts/count.html",link:function(c,d,e){function f(){c.count=a.get().length,c.badge=e.badge,0===c.count&&e.hideEmpty&&(c.count="")}f(),c.$on(b.event("change"),f)}}}]),angular.module("ngAlerts").directive("ngAlertsList",["ngAlertsMngr","ngAlertsEvent",function(a,b){return{templateUrl:"templates/ng-alerts/list.html",link:function(c,d,e){function f(){c.alerts=a.get()}c.remove=function(b){a.remove(b)},c.$on(b.event("change"),f),c.emptyList=e.emptyText||"No messages. Better get active!",f()}}}]),angular.module("ngAlerts").directive("ngAlertsPopover",["ngAlertsEvent","$compile","$timeout","$sce",function(a,b,c,d){return{restrict:"A",terminal:!0,priority:1e3,link:function(a,c,d){c.attr("uib-popover-template","templateUrl"),c.removeAttr("ng-alerts-popover"),a.templateUrl="templates/ng-alerts/sub/popover-list.html",b(c)(a)}}}]),angular.module("ngAlerts").directive("ngAlertsQueue",["ngAlertsMngr","ngAlertsEvent","$timeout",function(a,b,c){return{templateUrl:"templates/ng-alerts/queue.html",link:function(d){function e(a){var b;for(b=0;b<d.alerts.length;b+=1)if(d.alerts[b].id===a)return void d.alerts.splice(b,1)}d.alerts=[],d["delete"]=function(b){a.remove(b)},d.$on(b.event("remove"),function(a,b){e(b)}),d.$on(b.event("add"),function(a,b){d.alerts.push(b),c(function(){e(b.id)},3e3)})}}}]),angular.module("ngAlerts").factory("NgAlert",["ngAlertsId",function(a){var b=function(b,c){this.id=b||a.create(),this.msg=c||""};return b}]),angular.module("ngAlerts").factory("ngAlertsId",[function(){var a={};return a.create=function(a){a=a||[];var b;do b=Date.now();while(-1!==a.indexOf(b));return b},a}]),angular.module("ngAlerts").factory("ngAlertsMngr",["ngAlertsEvent","NgAlert","ngAlertsId",function(a,b,c){function d(b,c){a.fire(b,c),a.fire("change",c)}var e=[],f={};return f.get=function(){return angular.copy(e)},f.reset=function(){e=[],d("reset")},f.add=function(a){var f,g=[];for(f=0;f<e.length;f+=1)g.push(e[f].id);f=e.push(new b(c.create(g),a)),d("add",e[f-1])},f.remove=function(a){var b;for(b=0;b<e.length;b+=1)if(e[b].id===a){e.splice(b,1);break}d("remove",a)},f}]),angular.module("ngAlerts").service("ngAlertsEvent",["$rootScope",function(a){this.event=function(a){return"ngAlerts."+a},this.fire=function(b,c){a.$broadcast(this.event(b),c)}}]);
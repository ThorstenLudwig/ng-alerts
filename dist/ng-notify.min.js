"use strict";var app=angular.module("ngNotify",[]).run(["$compile","$rootScope",function(a,b){angular.element(document).find("body").append("<ng-notify-alert-area></ng-notify-alert-area>")}]);angular.module("ngNotify").directive("ngNotifyAlertArea",[function(){return{templateUrl:"templates/ng-notify/alert-area.html",controller:["$scope","ngNotifyMngr","ngNotifyEvent","$timeout",function(a,b,c,d){function e(b){var c;for(c=0;c<a.notifications.length;c+=1)if(a.notifications[c].id===b)return void a.notifications.splice(c,1)}a.notifications=[],a.$on(c.event("remove"),function(a,b){e(b)}),a.$on(c.event("add"),function(b,c){a.notifications.push(c),d(function(){e(c.id)},3e3)})}]}}]),angular.module("ngNotify").directive("ngNotifyCount",["ngNotifyMngr","ngNotifyEvent",function(a,b){return{templateUrl:"templates/ng-notify/count.html",link:function(c,d,e){function f(){c.count=a.get().length,c.badge=e.badge,0===c.count&&e.hideEmpty&&(c.count="")}f(),c.$on(b.event("change"),f)}}}]),angular.module("ngNotify").directive("ngNotifyList",["ngNotifyMngr",function(a){return{templateUrl:"templates/ng-notify/list.html",controller:["$scope","ngNotifyMngr","ngNotifyEvent",function(a,b,c){function d(){a.notifications=b.get()}a.remove=function(a){b.remove(a)},a.$on(c.event("change"),d),d()}]}}]),angular.module("ngNotify").directive("ngNotifyPopover",["$compile","$timeout",function(a,b){return{link:function(b,c,d){function e(a){k.detach()}function f(){var a,b,d=c[0].getBoundingClientRect();"top"===j||"bottom"===j?(a="bottom"===j?d.bottom:d.top+c[0].offsetHeight,b=d.left+c[0].offsetWidth/2-k[0].offsetWidth/2):(a=d.top+c[0].offsetHeight/2-k[0].offsetHeight/2,b="left"===j?d.left-k[0].offsetWidth:d.right+k[0].offsetWidth),k.css({top:a,left:b})}function g(a){a.stopPropagation(),f()}function h(a){g(a),e(a),l.append(k),f()}function i(){c.off("click",h),l.off("click",e),k.off("click",g),k.remove()}var j=d.position||"top",k=a('<div class="ng-notify-popover popover fade '+j+' in" role="tooltip" id="popover677443" style="top: 25477px; left: 266px; display: block;"><div class="arrow" style="left: 50%;"></div><div class="popover-content"><ng-notify-list></ng-notify-list></div></div>')(b),l=angular.element(document).find("body");c.on("click",h),l.on("click",e),k.on("click",g),b.$on("$destroy",i)}}}]),angular.module("ngNotify").factory("NgNotification",["ngNotifyId",function(a){var b=function(b,c){this.id=b||a.create(),this.msg=c||""};return b}]),angular.module("ngNotify").factory("ngNotifyId",[function(){var a={};return a.create=function(a){a=a||[];var b;do b=Date.now();while(-1!==a.indexOf(b));return b},a}]),angular.module("ngNotify").factory("ngNotifyMngr",["ngNotifyEvent","NgNotification","ngNotifyId",function(a,b,c){function d(b,c){a.fire(b,c),a.fire("change",c)}var e=[],f={};return f.get=function(){return angular.copy(e)},f.reset=function(){e=[],d("reset")},f.add=function(a){var f,g=[];for(f=0;f<e.length;f+=1)g.push(e[f].id);f=e.push(new b(c.create(g),a)),d("add",e[f-1])},f.remove=function(a){var b;for(b=0;b<e.length;b+=1)if(e[b].id===a){e.splice(b,1);break}d("remove",a)},f}]),angular.module("ngNotify").service("ngNotifyEvent",["$rootScope",function(a){this.event=function(a){return"ngNotify."+a},this.fire=function(b,c){a.$broadcast(this.event(b),c)}}]);
"use strict";var app=angular.module("ngNotify",[]).run(["$compile","$rootScope",function(a,b){angular.element(document).find("body").append("<ng-notify-alert-area></ng-notify-alert-area>")}]);angular.module("ngNotify").directive("ngNotifyAlertArea",[function(){return{templateUrl:"templates/ng-notify/alert-area.html",controller:["$scope","ngNotifyMngr","ngNotifyEvent","$timeout",function(a,b,c,d){function e(b){var c;for(c=0;c<a.notifications.length;c+=1)if(a.notifications[c].id===b)return void a.notifications.splice(c,1)}a.notifications=[],a.$on(c.event("remove"),function(a,b){e(b)}),a.$on(c.event("add"),function(b,c){a.notifications.push(c),d(function(){e(c.id)},3e3)})}]}}]),angular.module("ngNotify").directive("ngNotifyCount",["ngNotifyMngr","ngNotifyEvent",function(a,b){return{templateUrl:"templates/ng-notify/count.html",link:function(c,d,e){function f(){c.count=a.get().length,c.badge=e.badge,0===c.count&&e.hideEmpty&&(c.count="")}f(),c.$on(b.event("change"),f)}}}]),angular.module("ngNotify").directive("ngNotifyList",["ngNotifyMngr",function(a){return{templateUrl:"templates/ng-notify/list.html",controller:["$scope","ngNotifyMngr","ngNotifyEvent",function(a,b,c){function d(){a.notifications=b.get()}a.remove=function(a){b.remove(a)},a.$on(c.event("change"),d),d()}]}}]),angular.module("ngNotify").directive("ngNotifyPopover",["$compile","$timeout",function(a,b){return{link:function(c,d,e){function f(a){a.stopPropagation()}function g(a){k.remove(),l.off("click",g)}function h(){l.off("click",g);var a,c,e=d[0].getBoundingClientRect();l.append(k),"top"===j||"bottom"===j?(a="bottom"===j?e.bottom:e.top+d[0].offsetHeight,c=e.left+d[0].offsetWidth/2-k[0].offsetWidth/2):(a=e.top+d[0].offsetHeight/2-k[0].offsetHeight/2,c="left"===j?e.left-k[0].offsetWidth:e.right+k[0].offsetWidth),k.css({top:a,left:c}),b(function(){k.on("click",f),l.on("click",g)})}function i(){d.off("click",h),l.off("click",g),k.off("click",f)}var j=e.position||"top",k=a('<div class="ng-notify-popover popover fade '+j+' in" role="tooltip" id="popover677443" style="top: 25477px; left: 266px; display: block;"><div class="arrow" style="left: 50%;"></div><div class="popover-content"><ng-notify-list></ng-notify-list></div></div>')(c),l=angular.element(document).find("body");d.on("click",h),c.$on("$destroy",i)}}}]),angular.module("ngNotify").factory("NgNotification",["ngNotifyId",function(a){var b=function(b,c){this.id=b||a.create(),this.msg=c||""};return b}]),angular.module("ngNotify").factory("ngNotifyId",[function(){var a={};return a.create=function(a){a=a||[];var b;do b=Date.now();while(-1!==a.indexOf(b));return b},a}]),angular.module("ngNotify").factory("ngNotifyMngr",["ngNotifyEvent","NgNotification","ngNotifyId",function(a,b,c){function d(b,c){a.fire(b,c),a.fire("change",c)}var e=[],f={};return f.get=function(){return angular.copy(e)},f.reset=function(){e=[],d("reset")},f.add=function(a){var f,g=[];for(f=0;f<e.length;f+=1)g.push(e[f].id);f=e.push(new b(c.create(g),a)),d("add",e[f-1])},f.remove=function(a){var b;for(b=0;b<e.length;b+=1)if(e[b].id===a){e.splice(b,1);break}d("remove",a)},f}]),angular.module("ngNotify").service("ngNotifyEvent",["$rootScope",function(a){this.event=function(a){return"ngNotify."+a},this.fire=function(b,c){a.$broadcast(this.event(b),c)}}]);